services:
    - redis
language: python
python:
    - 3.8
    - 3.7
    - 3.6
    - 3.5

install: pip install -U tox-travis
script: tox

deploy:
    -   provider: pypi
        distributions: sdist bdist_wheel
        user: bogdandm
        password:
            secure: lXcCe/7E3pMYz+A71WSBlzCFg+0yIHj9WhqybXSArXeV6peacgt8wlC14cDu12KJlUjGGgzUqPJKNPMEGMr8JDytiQ237pVyq3EBAtdSTylvg5Qfm2cmQ9aKAjRdjhdvKbrOc19tuE0XKmRtU7hhP1j0diWnmWj2+0P40Chzn1BjlwdONBX/MfN2K3fzyTPg5JTnPqW6HO9Wa0tN5Mim/YNEVHGwTd0ipn7x15xiAfPANnb0vUSdSNIv5AOGNLH2Ks7cQ5AMV+Szc0hlPHS8i/6QeZiKhpCJQhPI4tfYHDjX9jA9EZeJxI5dQ38u8wH2XLgmxd2Whe+hgk7n7qBkKwx8/OEPYiQtJSLNGMW58S4JOeP4HHkveuCX6pVS0JOvhj8GBNv3ZuB9Vwc0awa3GlMubc7JH/OlKdDeg2PX/eDMM17/YeMBa8PNmMlgzDqLKl3QDwIle0ZdyBtc5qhJKpc0zch1O3us+tLinQ0oFLLLYRlOhxvh+Ae2lH8OHDimjwIrVqn/+D0EtEGo2lGp0HvxuIhU9vvrY6dsQlY8FArIZ3CEOd+Py1UQR6yhOLaEIilHMohOufP8SzjXhDIg2U7645WwQ4t4ZL42ZeM2W25w0R631CkP9MbxqiCz/J2jV5S3BcYKSkZnncbh757TSROagYaQIIOgEYuqD5P5Di0=
        on:
            tags: true
            all_branches: false
            repo: bogdandm/redis_bulk_cleaner
            python: 3.8
        skip_existing: true

#    -   provider: releases
#        api_key:
#            secure: PLEASE_REPLACE_ME
#        file_glob: true
#        file: dist/*
#        skip_cleanup: true
#        overwrite: true
#        draft: true
#        name: ${TRAVIS_TAG} (draft)
#        on:
#            tags: true
#            all_branches: false
#            repo: bogdandm/redis_bulk_cleaner
#            python: 3.8

